name: swipe
description: "Swipe on a UI element in the iOS simulator. Requires a direction and a target element. Falls back to session default simulator_udid."
category: ui_automation
input:
  properties:
    udid:
      type: string
      required: false
      description: "Simulator UDID. Falls back to session default."
    direction:
      type: string
      required: true
      description: "Swipe direction."
      enum:
        - up
        - down
        - left
        - right
    distance:
      type: number
      required: false
      description: "Swipe distance in points (optional)."
    accessibility_id:
      type: string
      required: false
      description: "Accessibility identifier of the target element (preferred)."
    accessibility_label:
      type: string
      required: false
      description: "Accessibility label of the target element."
    x:
      type: number
      required: false
      description: "X coordinate (used with y when no accessibility target)."
    y:
      type: number
      required: false
      description: "Y coordinate (used with x when no accessibility target)."
  required:
    - direction
output:
  success: "Success message with direction and simulator UDID."
  errors:
    - code: invalid_input
      condition: "Missing direction, invalid direction, or no UDID provided and no session default"
    - code: stale_default
      condition: "Session UDID no longer valid"
    - code: dependency_missing
      condition: "axe CLI tool not found"
    - code: command_failed
      condition: "axe swipe exited non-zero"
    - code: internal_error
      condition: "Unexpected failure"
idempotent: false
destructive: false
timeout:
  default: "120s"
  max: "600s"
cancellation: "axe process terminated"
dependencies:
  - axe
sessionDefaults:
  - simulator_udid
nextSteps:
  - tool: inspect_ui
    description: "Capture UI state after swipe"
  - tool: screenshot
    description: "Take a screenshot after swipe"
