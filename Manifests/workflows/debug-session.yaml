# Debug Session Workflow
#
# Attach LLDB to a running app, set breakpoints, inspect state,
# and cleanly detach.

name: debug-session
description: "Attach a debugger, set breakpoints, inspect state, and detach."

steps:
  - tool: debug_attach
    description: "Attach LLDB to the running app by PID or bundle ID."
    notes: "Returns session_id required by all subsequent debug tools."

  - tool: debug_breakpoint_add
    description: "Set a breakpoint by symbol name or file:line location."
    notes: "Use symbol for broad matching, file+line for precise locations."

  - tool: debug_continue
    description: "Resume execution until a breakpoint is hit."
    notes: "Returns stop reason. Times out after 5 minutes if no breakpoint hit."

  - tool: debug_stack
    description: "View the call stack at the breakpoint."
    notes: "Shows frame numbers, function names, and source locations."

  - tool: debug_variables
    description: "Inspect variables in the current (or specified) frame."
    notes: "Shows variable names, types, and values."

  - tool: debug_detach
    description: "Detach the debugger and clean up the LLDB process."
    notes: "App continues running after detach."
